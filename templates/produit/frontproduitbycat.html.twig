{% extends 'basefront.html.twig' %}

{% block body %}


	<div class="row g-4">
		{% for produit in b %}
			<div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="0.6s" style="visibility: visible; animation-delay: 0.6s; animation-name: zoomIn;">
				<div class="service-item d-flex flex-column justify-content-center text-center rounded">
					<div class="service-icon flex-shrink-0">
						<i class="fa fa-home fa-2x"></i>
					</div>
					<h5 class="mb-3">{{ produit.nom_produit}}
					</h5>
					<p>
						prix :
						{{  produit.prix}}</p>
					<p>
						quantite :
						{{  produit.quantite }}</p>
					<p>
						<img src=" {{ absolute_url('/uploads/'{{  produit.photo }}) }}" height="100" width="100">
                       
					</p>
					<p>
						date :
						{{  produit.date|date('d-m-Y') }}</p>
					<p>
						description :
						{{  produit.description }}</p>
					<a class="btn px-3 mt-auto mx-auto" href="{{path('ajouterdemande',{'id':produit.id},{'iduser':"1"}) }}">demande</a>


					<button class="btn px-3 mt-auto mx-auto" data-toggle="modal" data-target="#priceModal{{ produit.id }}">Show Price</button>
				</div>
			</div>

			<!-- Price Modal -->
			<div class="modal fade" id="priceModal{{ produit.id }}" tabindex="-1" role="dialog" aria-labelledby="priceModalLabel{{ produit.id }}" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="priceModalLabel{{ produit.id }}">Price</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<p>The price of {{ produit.nom_produit }} is {{ produit.prix }}</p>
						</div>
					</div>
				</div>
			</div>
				</div>
			</div>
		{% endfor %}
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function() {
			$('button[data-target^="#priceModal"]').on('click', function(){
				var target = $(this).data('target');
				$(target).modal('show');
			});
		});
	</script>
{% endblock %}
